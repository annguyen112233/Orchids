<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Qu·∫£n l√Ω ƒë∆°n h√†ng</title>
    <link rel="stylesheet" th:href="@{/css/admin-orders.css}">
</head>
<body>

<h2 style="text-align:center;">Danh s√°ch ƒë∆°n h√†ng</h2>

<table>
    <thead>
    <tr>
        <th>ID</th>
        <th>T√™n kh√°ch h√†ng</th>
        <th>Ng√†y ƒë·∫∑t</th>
        <th>Tr·∫°ng th√°i</th>
        <th>T·ªïng ti·ªÅn</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="order : ${orders}">
        <td th:text="${order.orderId}">1</td>
        <td th:text="${order.accountName}">Nguy·ªÖn VƒÉn A</td>
        <td th:text="${order.orderDateFormatted}">2025-07-18</td>
        <td> <!-- üëà Th√™m td cho c·ªôt Tr·∫°ng th√°i -->
            <form th:action="@{'/admin/orders/update-status/' + ${order.orderId}}" method="post">
                <select name="status">
                    <option th:value="PENDING"
                            th:selected="${order.orderStatus.name() == 'PENDING'}">Ch·ªù x·ª≠ l√Ω</option>
                    <option th:value="PROCESSING"
                            th:selected="${order.orderStatus.name() == 'PROCESSING'}">ƒêang x·ª≠ l√Ω</option>
                    <option th:value="DELIVERED"
                            th:selected="${order.orderStatus.name() == 'DELIVERED'}">ƒê√£ giao</option>
                    <option th:value="CONFIRM"
                            th:selected="${order.orderStatus.name() == 'CONFIRM'}">ƒê√£ x√°c nh·∫≠n</option>
                    <option th:value="CANCELLED"
                            th:selected="${order.orderStatus.name() == 'CANCELLED'}">ƒê√£ h·ªßy</option>
                </select>
                <button type="submit">C·∫≠p nh·∫≠t</button>
            </form>
        </td>
        <td th:text="${order.totalAmount}">1500000</td>
    </tr>
    </tbody>
</table>

<div class="back-button">
    <a th:href="@{/admin/dashboard}" style="text-decoration:none;">‚Üê Tr·ªü v·ªÅ trang admin</a>
</div>

</body>
</html>
